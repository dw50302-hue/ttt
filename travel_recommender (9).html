<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>맞춤 여행지 추천</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
            padding: 20px;
        }

        .container {
            background: white;
            border-radius: 20px;
            box-shadow: 0 20px 60px rgba(0,0,0,0.3);
            max-width: 600px;
            width: 100%;
            padding: 40px;
            animation: fadeIn 0.5s;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }

        h1 {
            color: #667eea;
            text-align: center;
            margin-bottom: 10px;
            font-size: 2em;
        }

        .subtitle {
            text-align: center;
            color: #666;
            margin-bottom: 30px;
            font-size: 0.9em;
        }

        .progress-bar {
            width: 100%;
            height: 8px;
            background: #e0e0e0;
            border-radius: 10px;
            margin-bottom: 30px;
            overflow: hidden;
        }

        .progress-fill {
            height: 100%;
            background: linear-gradient(90deg, #667eea 0%, #764ba2 100%);
            border-radius: 10px;
            transition: width 0.3s ease;
        }

        .question-container {
            display: none;
        }

        .question-container.active {
            display: block;
            animation: slideIn 0.4s;
        }

        @keyframes slideIn {
            from { opacity: 0; transform: translateX(20px); }
            to { opacity: 1; transform: translateX(0); }
        }

        .question {
            font-size: 1.3em;
            color: #333;
            margin-bottom: 25px;
            font-weight: 600;
        }

        .options {
            display: flex;
            flex-direction: column;
            gap: 12px;
        }

        .option {
            padding: 15px 20px;
            border: 2px solid #e0e0e0;
            border-radius: 10px;
            cursor: pointer;
            transition: all 0.3s;
            background: white;
            font-size: 1em;
        }

        .option:hover {
            border-color: #667eea;
            background: #f8f9ff;
            transform: translateX(5px);
        }

        .option.selected {
            border-color: #667eea;
            background: #667eea;
            color: white;
        }

        .button-group {
            display: flex;
            gap: 10px;
            margin-top: 30px;
        }

        button {
            flex: 1;
            padding: 15px;
            border: none;
            border-radius: 10px;
            font-size: 1em;
            cursor: pointer;
            transition: all 0.3s;
            font-weight: 600;
        }

        .btn-prev {
            background: #e0e0e0;
            color: #666;
        }

        .btn-prev:hover {
            background: #d0d0d0;
        }

        .btn-next {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
        }

        .btn-next:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(102, 126, 234, 0.4);
        }

        .btn-next:disabled {
            background: #ccc;
            cursor: not-allowed;
            transform: none;
        }

        .result-container {
            display: none;
        }

        .result-container.active {
            display: block;
            animation: fadeIn 0.5s;
        }

        .destination {
            background: #f8f9ff;
            padding: 20px;
            border-radius: 10px;
            margin-bottom: 15px;
            border-left: 4px solid #667eea;
        }

        .destination h3 {
            color: #667eea;
            margin-bottom: 10px;
            display: flex;
            align-items: center;
            gap: 10px;
            justify-content: space-between;
        }

        .destination .title-section {
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .destination .country-name {
            font-size: 1.5em;
        }

        .destination .flag {
            font-size: 2em;
        }

        .destination .match-score {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 8px 16px;
            border-radius: 20px;
            font-size: 0.9em;
            font-weight: 600;
        }

        .destination p {
            color: #666;
            line-height: 1.6;
            margin-bottom: 10px;
        }

        .tags {
            display: flex;
            flex-wrap: wrap;
            gap: 8px;
            margin-top: 10px;
        }

        .tag {
            background: #667eea;
            color: white;
            padding: 5px 12px;
            border-radius: 20px;
            font-size: 0.85em;
        }

        .restart-btn {
            width: 100%;
            margin-top: 20px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
        }

        .select-btn {
            width: 100%;
            margin-top: 15px;
            padding: 12px;
            background: #667eea;
            color: white;
            border: none;
            border-radius: 8px;
            font-size: 1em;
            cursor: pointer;
            transition: all 0.3s;
            font-weight: 600;
        }

        .select-btn:hover {
            background: #5568d3;
            transform: translateY(-2px);
        }

        .destination.selected-destination {
            border-left: 6px solid #667eea;
            background: #e8ebff;
            box-shadow: 0 4px 12px rgba(102, 126, 234, 0.2);
        }

        .final-choice {
            display: none;
        }

        .final-choice.active {
            display: block;
            animation: fadeIn 0.5s;
        }

        .final-card {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 40px;
            border-radius: 15px;
            text-align: center;
            margin-bottom: 20px;
        }

        .final-card .flag {
            font-size: 5em;
            margin-bottom: 15px;
        }

        .final-card h2 {
            font-size: 2.8em;
            margin-bottom: 15px;
        }

        .final-card .congrats {
            font-size: 1.3em;
            opacity: 0.95;
            margin-bottom: 10px;
        }

        .final-details {
            background: white;
            padding: 25px;
            border-radius: 10px;
            margin-top: 20px;
            color: #333;
        }

        .final-details h3 {
            color: #667eea;
            margin-bottom: 15px;
            font-size: 1.4em;
        }

        .final-details p {
            line-height: 1.8;
            margin-bottom: 15px;
        }

        .map-container {
            background: white;
            padding: 25px;
            border-radius: 10px;
            margin-top: 20px;
        }

        .map-container h3 {
            color: #667eea;
            margin-bottom: 15px;
            font-size: 1.4em;
        }

        .map-frame {
            width: 100%;
            height: 400px;
            border: none;
            border-radius: 10px;
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
        }

        .landmark-container {
            background: white;
            padding: 25px;
            border-radius: 10px;
            margin-top: 20px;
        }

        .landmark-container h3 {
            color: #667eea;
            margin-bottom: 15px;
            font-size: 1.4em;
        }

        .landmark-list {
            display: flex;
            flex-direction: column;
            gap: 12px;
        }

        .landmark-item {
            display: flex;
            align-items: center;
            gap: 12px;
            padding: 15px;
            background: #f8f9ff;
            border-radius: 8px;
            border-left: 3px solid #667eea;
            cursor: pointer;
            transition: all 0.3s;
        }

        .landmark-item:hover {
            background: #e8ebff;
            transform: translateX(5px);
            box-shadow: 0 2px 8px rgba(102, 126, 234, 0.2);
        }

        .landmark-icon {
            font-size: 1.8em;
            min-width: 40px;
            text-align: center;
        }

        .landmark-info {
            flex: 1;
        }

        .landmark-name {
            font-weight: 600;
            color: #333;
            margin-bottom: 3px;
        }

        .landmark-desc {
            font-size: 0.9em;
            color: #666;
        }

        .landmark-search-hint {
            font-size: 0.75em;
            color: #667eea;
            margin-top: 3px;
            font-weight: 600;
        }

        .start-screen {
            text-align: center;
        }

        .start-screen h1 {
            font-size: 2.5em;
            margin-bottom: 20px;
        }

        .start-screen p {
            font-size: 1.1em;
            color: #666;
            margin-bottom: 30px;
            line-height: 1.8;
        }

        .start-btn {
            width: 100%;
            padding: 20px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            font-size: 1.2em;
        }

        @media (max-width: 480px) {
            .container {
                padding: 25px;
            }

            h1 {
                font-size: 1.5em;
            }

            .question {
                font-size: 1.1em;
            }

            .map-frame {
                height: 300px;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <!-- 시작 화면 -->
        <div id="startScreen" class="start-screen">
            <h1>🌍 나만의 여행지 찾기</h1>
            <p>
                AI가 여러분에게 딱 맞는 여행지를 찾아드립니다.<br>
                여러분의 여행 성향을 기반으로 전 세계 국가 중<br>
                최적의 여행지를 추천해드려요!
            </p>
            <button class="start-btn" onclick="startQuiz()">시작하기</button>
        </div>

        <!-- 퀴즈 화면 -->
        <div id="quizScreen" style="display: none;">
            <h1>여행지 추천</h1>
            <div class="subtitle">질문에 답하고 맞춤 여행지를 찾아보세요</div>
            
            <div class="progress-bar">
                <div class="progress-fill" id="progressFill"></div>
            </div>

            <div id="questionsContainer"></div>

            <div class="button-group">
                <button class="btn-prev" onclick="prevQuestion()" id="prevBtn" style="display: none;">이전</button>
                <button class="btn-next" onclick="nextQuestion()" id="nextBtn" disabled>다음</button>
            </div>
        </div>

        <!-- 결과 화면 -->
        <div id="resultScreen" class="result-container">
            <h1>🎉 추천 여행지</h1>
            <div class="subtitle">당신에게 완벽한 여행지를 찾았어요!</div>
            <div id="resultContent"></div>
            <button class="restart-btn" onclick="restart()">다시 시작하기</button>
        </div>

        <!-- 최종 선택 화면 -->
        <div id="finalChoice" class="final-choice">
            <h1>✈️ 최종 선택</h1>
            <div class="subtitle">멋진 선택이에요!</div>
            <div id="finalContent"></div>
            <button class="restart-btn" onclick="restart()">다시 시작하기</button>
        </div>
    </div>

    <script>
        // 국가별 좌표 데이터
        const countryCoords = {
            '미국': [37.09, -95.71, 4], '일본': [36.20, 138.25, 5], '프랑스': [46.23, 2.21, 6],
            '태국': [15.87, 100.99, 6], '뉴질랜드': [-40.90, 174.89, 5], '이탈리아': [41.87, 12.57, 6],
            '스페인': [40.46, -3.75, 6], '그리스': [39.07, 21.82, 6], '호주': [-25.27, 133.78, 4],
            '포르투갈': [39.40, -8.22, 6], '캐나다': [56.13, -106.35, 4], '영국': [55.38, -3.44, 6],
            '독일': [51.17, 10.45, 6], '스위스': [46.82, 8.23, 7], '네덜란드': [52.13, 5.29, 7],
            '벨기에': [50.50, 4.47, 7], '오스트리아': [47.52, 14.55, 7], '체코': [49.82, 15.47, 7],
            '폴란드': [51.92, 19.15, 6], '헝가리': [47.16, 19.50, 7], '크로아티아': [45.1, 15.2, 7],
            '터키': [38.96, 35.24, 6], '아이슬란드': [64.96, -19.02, 6], '노르웨이': [60.47, 8.47, 5],
            '스웨덴': [60.13, 18.64, 5], '핀란드': [61.92, 25.75, 5], '덴마크': [56.26, 9.50, 7],
            '싱가포르': [1.35, 103.82, 11], '베트남': [14.06, 108.28, 6], '인도네시아': [-0.79, 113.92, 5],
            '말레이시아': [4.21, 101.98, 6], '필리핀': [12.88, 121.77, 6], '인도': [20.59, 78.96, 5],
            '네팔': [28.39, 84.12, 7], '중국': [35.86, 104.20, 4], '한국': [35.91, 127.77, 7],
            '대만': [23.70, 120.96, 7], '홍콩': [22.32, 114.17, 11], '몽골': [46.86, 103.85, 5],
            '멕시코': [23.63, -102.55, 5], '브라질': [-14.24, -51.93, 4], '아르헨티나': [-38.42, -63.62, 4],
            '칠레': [-35.68, -71.54, 4], '페루': [-9.19, -75.02, 5], '콜롬비아': [4.57, -74.30, 6],
            '에콰도르': [-1.83, -78.18, 6], '볼리비아': [-16.29, -63.59, 6], '우루과이': [-32.52, -55.77, 7],
            '이집트': [26.82, 30.80, 6], '모로코': [31.79, -7.09, 6], '남아프리카공화국': [-30.56, 22.94, 5],
            '케냐': [-0.02, 37.91, 6], '탄자니아': [-6.37, 34.89, 6], '보츠와나': [-22.33, 24.68, 6],
            '나미비아': [-22.96, 18.49, 6], '마다가스카르': [-18.77, 46.87, 6], '세이셸': [-4.68, 55.49, 10],
            '모리셔스': [-20.35, 57.55, 10], '몰디브': [3.20, 73.22, 8], '두바이': [25.20, 55.27, 10],
            '요르단': [30.59, 36.24, 7], '이스라엘': [31.05, 34.85, 8], '오만': [21.47, 55.98, 6],
            '카타르': [25.35, 51.18, 9], '러시아': [61.52, 105.32, 3], '우크라이나': [48.38, 31.17, 6],
            '조지아': [42.32, 43.36, 7], '아르메니아': [40.07, 45.04, 8], '아제르바이잔': [40.14, 47.58, 7],
            '카자흐스탄': [48.02, 66.92, 5], '우즈베키스탄': [41.38, 64.59, 6], '키르기스스탄': [41.20, 74.77, 7],
            '파키스탄': [30.38, 69.35, 6], '스리랑카': [7.87, 80.77, 7], '미얀마': [21.92, 95.96, 6],
            '라오스': [19.86, 102.50, 6], '캄보디아': [12.57, 104.99, 7], '부탄': [27.51, 90.43, 8],
            '아일랜드': [53.41, -8.24, 7], '루마니아': [45.94, 24.97, 7], '불가리아': [42.73, 25.49, 7],
            '세르비아': [44.02, 21.01, 7], '슬로베니아': [46.15, 14.99, 8], '몬테네그로': [42.71, 19.37, 8],
            '알바니아': [41.15, 20.17, 8], '몰타': [35.94, 14.38, 10], '키프로스': [35.13, 33.43, 9],
            '에스토니아': [58.60, 25.01, 7], '라트비아': [56.88, 24.60, 7], '리투아니아': [55.17, 23.88, 7],
            '뉴칼레도니아': [-20.90, 165.62, 8], '피지': [-17.71, 178.07, 8], '타히티': [-17.65, -149.43, 9],
            '르완다': [-1.94, 29.87, 8], '에티오피아': [9.15, 40.49, 6], '방글라데시': [23.69, 90.36, 7]
        };

        // 국가별 랜드마크 (2개씩)
        const landmarks = {
            '미국': [{i:'🗽',n:'자유의 여신상',d:'뉴욕의 상징'},{i:'🏛️',n:'백악관',d:'대통령 관저'}],
            '일본': [{i:'🗼',n:'도쿄 타워',d:'도쿄의 상징'},{i:'🗻',n:'후지산',d:'일본의 영봉'}],
            '프랑스': [{i:'🗼',n:'에펠탑',d:'파리의 상징'},{i:'🏛️',n:'루브르 박물관',d:'세계 최대 미술관'}],
            '태국': [{i:'🛕',n:'왓 아룬',d:'새벽 사원'},{i:'👑',n:'왕궁',d:'방콕 대왕궁'}],
            '뉴질랜드': [{i:'🏔️',n:'밀포드 사운드',d:'피오르드'},{i:'🌋',n:'통가리로',d:'화산 지대'}],
            '이탈리아': [{i:'🏛️',n:'콜로세움',d:'로마 원형경기장'},{i:'⛪',n:'피사의 사탑',d:'기울어진 종탑'}],
            '스페인': [{i:'⛪',n:'사그라다 파밀리아',d:'가우디 성당'},{i:'🏰',n:'알함브라 궁전',d:'그라나다'}],
            '그리스': [{i:'🏛️',n:'파르테논 신전',d:'아크로폴리스'},{i:'🏝️',n:'산토리니',d:'하얀 집'}],
            '호주': [{i:'🎭',n:'오페라하우스',d:'시드니'},{i:'🪨',n:'울루루',d:'신성한 바위'}],
            '포르투갈': [{i:'🏰',n:'벨렘 탑',d:'리스본'},{i:'⛪',n:'제로니무스 수도원',d:'마누엘 양식'}],
            '캐나다': [{i:'💧',n:'나이아가라 폭포',d:'세계적 폭포'},{i:'🏔️',n:'밴프 국립공원',d:'로키 산맥'}],
            '영국': [{i:'🕰️',n:'빅벤',d:'런던 시계탑'},{i:'🏰',n:'버킹엄 궁전',d:'왕실 거처'}],
            '독일': [{i:'🚪',n:'브란덴부르크 문',d:'베를린'},{i:'🏰',n:'노이슈반슈타인',d:'동화 속 성'}],
            '스위스': [{i:'🏔️',n:'마터호른',d:'알프스'},{i:'💧',n:'라인 폭포',d:'유럽 최대'}],
            '네덜란드': [{i:'🏛️',n:'안네 프랑크의 집',d:'암스테르담'},{i:'🌷',n:'큐켄호프',d:'꽃 정원'}],
            '벨기에': [{i:'🏛️',n:'그랑 플라스',d:'브뤼셀 광장'},{i:'🗿',n:'오줌싸개 동상',d:'브뤼셀'}],
            '오스트리아': [{i:'🏰',n:'쇤브룬 궁전',d:'합스부르크'},{i:'⛪',n:'슈테판 대성당',d:'빈'}],
            '체코': [{i:'🏰',n:'프라하 성',d:'세계 최대'},{i:'🌉',n:'카를교',d:'돌다리'}],
            '폴란드': [{i:'🏰',n:'바벨 성',d:'크라쿠프'},{i:'⛪',n:'성 마리아 성당',d:'고딕 교회'}],
            '헝가리': [{i:'🏛️',n:'국회의사당',d:'부다페스트'},{i:'🏰',n:'부다 성',d:'왕궁'}],
            '크로아티아': [{i:'🏛️',n:'디오클레티아누스 궁전',d:'스플리트'},{i:'🏰',n:'두브로브니크 성벽',d:'진주'}],
            '터키': [{i:'🕌',n:'아야 소피아',d:'이스탄불'},{i:'🎈',n:'카파도키아',d:'요정 굴뚝'}],
            '아이슬란드': [{i:'💧',n:'굴포스 폭포',d:'황금 폭포'},{i:'🌊',n:'블루 라군',d:'온천'}],
            '노르웨이': [{i:'🏔️',n:'게이랑에르',d:'피오르'},{i:'🪨',n:'프레이케스톨렌',d:'설교단'}],
            '스웨덴': [{i:'🏛️',n:'바사 박물관',d:'전함'},{i:'❄️',n:'아이스호텔',d:'얼음'}],
            '핀란드': [{i:'⛪',n:'헬싱키 대성당',d:'화이트'},{i:'🌌',n:'산타클로스 마을',d:'로바니에미'}],
            '덴마크': [{i:'🧜‍♀️',n:'인어공주',d:'코펜하겐'},{i:'🎡',n:'티볼리 공원',d:'놀이공원'}],
            '싱가포르': [{i:'🦁',n:'머라이언',d:'상징'},{i:'🏨',n:'마리나 베이',d:'수영장'}],
            '베트남': [{i:'🏯',n:'하롱베이',d:'석회암 섬'},{i:'🏛️',n:'호이안',d:'등불 축제'}],
            '인도네시아': [{i:'🛕',n:'보로부두르',d:'불교 유적'},{i:'🌋',n:'브로모 화산',d:'일출'}],
            '말레이시아': [{i:'🗼',n:'페트로나스 타워',d:'쿠알라룸푸르'},{i:'🕌',n:'바투 동굴',d:'힌두'}],
            '필리핀': [{i:'🏝️',n:'보라카이',d:'화이트 비치'},{i:'🏔️',n:'초콜릿 힐스',d:'언덕'}],
            '인도': [{i:'🕌',n:'타지마할',d:'사랑의 상징'},{i:'🏛️',n:'황금 사원',d:'시크교'}],
            '네팔': [{i:'🏔️',n:'에베레스트',d:'최고봉'},{i:'🛕',n:'스와얌부나트',d:'원숭이 사원'}],
            '중국': [{i:'🏯',n:'만리장성',d:'최장 성벽'},{i:'🏛️',n:'자금성',d:'황궁'}],
            '한국': [{i:'🏯',n:'경복궁',d:'조선 왕조'},{i:'🗼',n:'N서울타워',d:'남산'}],
            '대만': [{i:'🗼',n:'타이페이 101',d:'초고층'},{i:'🏛️',n:'중정기념당',d:'타이페이'}],
            '홍콩': [{i:'🌃',n:'빅토리아 피크',d:'야경'},{i:'🛕',n:'텐탄 대불',d:'청동 불상'}],
            '몽골': [{i:'⛺',n:'게르',d:'유목민 텐트'},{i:'🏛️',n:'칭기즈칸 광장',d:'울란바토르'}],
            '멕시코': [{i:'🗿',n:'치첸이트사',d:'피라미드'},{i:'🏝️',n:'칸쿤',d:'카리브해'}],
            '브라질': [{i:'🗿',n:'예수상',d:'리우'},{i:'🌊',n:'이과수 폭포',d:'3대 폭포'}],
            '아르헨티나': [{i:'❄️',n:'페리토 모레노',d:'빙하'},{i:'💃',n:'탱고의 거리',d:'부에노스'}],
            '칠레': [{i:'🏜️',n:'아타카마 사막',d:'건조'},{i:'🗿',n:'모아이',d:'이스터 섬'}],
            '페루': [{i:'🏛️',n:'마추픽추',d:'잉카'},{i:'🏔️',n:'레인보우 마운틴',d:'7색 산'}],
            '콜롬비아': [{i:'🏛️',n:'카르타헤나',d:'구시가지'},{i:'⛪',n:'솔트 대성당',d:'소금'}],
            '에콰도르': [{i:'🐢',n:'갈라파고스',d:'진화론'},{i:'🏔️',n:'코토팍시',d:'화산'}],
            '볼리비아': [{i:'✨',n:'우유니',d:'소금사막'},{i:'🏔️',n:'티티카카',d:'호수'}],
            '우루과이': [{i:'🏖️',n:'푼타 델 에스테',d:'해변'},{i:'🌅',n:'카보 폴로니오',d:'등대'}],
            '이집트': [{i:'🗿',n:'피라미드',d:'기자'},{i:'🐫',n:'스핑크스',d:'석상'}],
            '모로코': [{i:'🕌',n:'하산 2세 모스크',d:'카사블랑카'},{i:'🏜️',n:'사하라',d:'사막'}],
            '남아프리카공화국': [{i:'🏔️',n:'테이블 마운틴',d:'케이프타운'},{i:'🦁',n:'크루거',d:'사파리'}],
            '케냐': [{i:'🦁',n:'마사이 마라',d:'대이동'},{i:'🏔️',n:'킬리만자로',d:'최고봉'}],
            '탄자니아': [{i:'🏔️',n:'킬리만자로',d:'최고봉'},{i:'🦁',n:'세렝게티',d:'야생'}],
            '보츠와나': [{i:'💧',n:'오카방고',d:'델타'},{i:'🐘',n:'초베',d:'코끼리'}],
            '나미비아': [{i:'🏜️',n:'나미브 사막',d:'오래된'},{i:'🦴',n:'데드블라이',d:'계곡'}],
            '마다가스카르': [{i:'🐵',n:'여우원숭이',d:'영장류'},{i:'🌳',n:'바오밥',d:'나무'}],
            '세이셸': [{i:'🏝️',n:'앙세 소스',d:'최고 해변'},{i:'🐢',n:'쿠리외스',d:'거북이'}],
            '모리셔스': [{i:'🏝️',n:'7색 땅',d:'샤마렐'},{i:'💧',n:'샤마렐 폭포',d:'폭포'}],
            '몰디브': [{i:'🏝️',n:'수상 빌라',d:'리조트'},{i:'✨',n:'발광 플랑크톤',d:'빛나는 바다'}],
            '두바이': [{i:'🏙️',n:'부르즈 할리파',d:'최고층'},{i:'🏝️',n:'팜 주메이라',d:'인공 섬'}],
            '요르단': [{i:'🏛️',n:'페트라',d:'장미빛 도시'},{i:'💧',n:'사해',d:'뜨는 바다'}],
            '이스라엘': [{i:'🕌',n:'통곡의 벽',d:'예루살렘'},{i:'⛪',n:'성묘 교회',d:'예수 무덤'}],
            '오만': [{i:'🕌',n:'술탄 모스크',d:'무스카트'},{i:'🏜️',n:'와히바 사막',d:'모래'}],
            '카타르': [{i:'🏛️',n:'이슬람 예술 박물관',d:'도하'},{i:'🏟️',n:'루사일 스타디움',d:'W컵'}],
            '러시아': [{i:'🏛️',n:'크렘린',d:'모스크바'},{i:'⛪',n:'성 바실리',d:'양파 돔'}],
            '우크라이나': [{i:'⛪',n:'성 소피아',d:'키이우'},{i:'🏛️',n:'독립 광장',d:'마이단'}],
            '조지아': [{i:'⛪',n:'게르게티 교회',d:'산 위'},{i:'🏛️',n:'트빌리시',d:'구시가지'}],
            '아르메니아': [{i:'⛪',n:'에치미아진',d:'최초 성당'},{i:'🏛️',n:'가르니 신전',d:'헬레니즘'}],
            '아제르바이잔': [{i:'🔥',n:'불의 탑',d:'바쿠'},{i:'🏛️',n:'이체리 세헤르',d:'구시가지'}],
            '카자흐스탄': [{i:'🏛️',n:'바이테렉',d:'아스타나'},{i:'🏔️',n:'차린 캐년',d:'협곡'}],
            '우즈베키스탄': [{i:'🕌',n:'레기스탄',d:'사마르칸트'},{i:'🏛️',n:'부하라',d:'실크로드'}],
            '키르기스스탄': [{i:'🏔️',n:'이식쿨',d:'호수'},{i:'⛺',n:'송쿨',d:'유르트'}],
            '파키스탄': [{i:'🏔️',n:'K2',d:'2위 고봉'},{i:'🏛️',n:'모헨조다로',d:'인더스'}],
            '스리랑카': [{i:'🦷',n:'불치사',d:'이빨'},{i:'🏔️',n:'시기리야',d:'바위 요새'}],
            '미얀마': [{i:'🛕',n:'바간',d:'2천 사원'},{i:'🏛️',n:'쉐다곤',d:'황금 불탑'}],
            '라오스': [{i:'🕌',n:'루앙프라방',d:'UNESCO'},{i:'💧',n:'쿠앙시 폭포',d:'청록색'}],
            '캄보디아': [{i:'🏛️',n:'앙코르 와트',d:'최대 유적'},{i:'🗿',n:'앙코르 톰',d:'얼굴'}],
            '부탄': [{i:'🏔️',n:'타이거 네스트',d:'절벽 수도원'},{i:'🗿',n:'부다 도르덴마',d:'불상'}],
            '아일랜드': [{i:'🏰',n:'더블린 성',d:'역사'},{i:'⛰️',n:'모허 절벽',d:'대서양'}],
            '루마니아': [{i:'🏰',n:'브란 성',d:'드라큘라'},{i:'🏛️',n:'펠레슈 성',d:'진주'}],
            '불가리아': [{i:'⛪',n:'릴라 수도원',d:'UNESCO'},{i:'🏖️',n:'흑해 해변',d:'바르나'}],
            '세르비아': [{i:'🏰',n:'베오그라드 요새',d:'도나우'},{i:'⛪',n:'성 사바',d:'정교회'}],
            '슬로베니아': [{i:'🏰',n:'블레드 호수',d:'섬'},{i:'🦇',n:'포스토이나',d:'동굴'}],
            '몬테네그로': [{i:'🏛️',n:'코토르',d:'UNESCO'},{i:'⛪',n:'오스트로그',d:'수도원'}],
            '알바니아': [{i:'🏛️',n:'부트린트',d:'로마 유적'},{i:'🏖️',n:'리비에라',d:'해안'}],
            '몰타': [{i:'🏛️',n:'발레타',d:'UNESCO'},{i:'🌊',n:'블루 라군',d:'코미노'}],
            '키프로스': [{i:'🏛️',n:'파포스',d:'모자이크'},{i:'🏖️',n:'아프로디테',d:'탄생지'}],
            '에스토니아': [{i:'🏛️',n:'탈린',d:'중세'},{i:'🏰',n:'카드리오르그',d:'궁전'}],
            '라트비아': [{i:'🏛️',n:'리가',d:'아르누보'},{i:'🏰',n:'룬달레',d:'궁전'}],
            '리투아니아': [{i:'🏰',n:'트라카이',d:'호수 위'},{i:'⛪',n:'십자가 언덕',d:'순례'}],
            '뉴칼레도니아': [{i:'🏝️',n:'이슬로트',d:'수족관'},{i:'🌊',n:'라군',d:'리프'}],
            '피지': [{i:'🏝️',n:'야사와',d:'낙원'},{i:'🌊',n:'화이트 월',d:'다이빙'}],
            '타히티': [{i:'🏝️',n:'보라보라',d:'수상'},{i:'🌋',n:'타히티 화산',d:'검은 모래'}],
            '르완다': [{i:'🦍',n:'마운틴 고릴라',d:'화산'},{i:'🌳',n:'니융웨 숲',d:'원숭이'}],
            '에티오피아': [{i:'⛪',n:'라리벨라',d:'암굴 교회'},{i:'🏔️',n:'시미엔',d:'산맥'}],
            '방글라데시': [{i:'🕌',n:'60돔 모스크',d:'UNESCO'},{i:'🌳',n:'순다르반',d:'맹그로브'}]
        };

        // 국가 데이터베이스
        const destinations = [
            {name:'미국',flag:'🇺🇸',tags:['도시','자연','다양','문화','쇼핑'],climate:'temperate',budget:'high',vibe:'both',mbti:['ENTJ','ESTJ','ENTP','ESTP'],desc:'광활한 대륙에 다양한 문화와 자연이 공존하는 나라. 뉴욕, LA 같은 대도시부터 그랜드캐니언, 옐로스톤 같은 자연까지 모든 것을 경험할 수 있어요.'},
            {name:'일본',flag:'🇯🇵',tags:['문화','음식','도시','안전','쇼핑'],climate:'temperate',budget:'medium',vibe:'city',mbti:['ISTJ','ISFJ','ESTJ','ESFJ'],desc:'전통과 현대가 공존하는 매력적인 나라. 깨끗하고 안전하며 대중교통이 발달해 있어요.'},
            {name:'프랑스',flag:'🇫🇷',tags:['문화','예술','음식','로맨틱','역사'],climate:'temperate',budget:'high',vibe:'city',mbti:['INFP','ENFP','INFJ','ENFJ'],desc:'예술과 낭만의 나라. 세계적인 미술관과 요리, 아름다운 시골 풍경을 즐길 수 있어요.'},
            {name:'태국',flag:'🇹🇭',tags:['해변','음식','저렴','사원','나이트라이프'],climate:'tropical',budget:'low',vibe:'both',mbti:['ESFP','ESTP','ENFP','ENTP'],desc:'활기찬 거리, 맛있는 음식, 아름다운 해변이 있는 동남아시아의 보석.'},
            {name:'뉴질랜드',flag:'🇳🇿',tags:['자연','액티비티','모험','청정'],climate:'temperate',budget:'high',vibe:'nature',mbti:['ISTP','ESTP','ISFP','ESFP'],desc:'숨막히는 자연 경관과 다양한 모험 액티비티를 즐길 수 있어요.'},
            {name:'이탈리아',flag:'🇮🇹',tags:['문화','음식','역사','예술','로맨틱'],climate:'temperate',budget:'medium',vibe:'city',mbti:['ENFP','ESFP','INFP','ISFP'],desc:'역사, 예술, 음식의 완벽한 조화를 경험할 수 있어요.'},
            {name:'스페인',flag:'🇪🇸',tags:['문화','음식','나이트라이프','해변','축제'],climate:'warm',budget:'medium',vibe:'city',mbti:['ESFP','ESTP','ENFP','ENTP'],desc:'열정적인 문화와 맛있는 음식, 아름다운 해변이 있어요.'},
            {name:'그리스',flag:'🇬🇷',tags:['역사','해변','문화','로맨틱','섬'],climate:'warm',budget:'medium',vibe:'both',mbti:['ENFP','INFP','ENFJ','INFJ'],desc:'고대 문명의 흔적과 에메랄드빛 바다를 만날 수 있어요.'},
            {name:'호주',flag:'🇦🇺',tags:['자연','해변','액티비티','동물','도시'],climate:'warm',budget:'high',vibe:'both',mbti:['ESTP','ESFP','ISTP','ISFP'],desc:'대자연과 현대 도시가 공존하는 나라예요.'},
            {name:'포르투갈',flag:'🇵🇹',tags:['문화','음식','해변','저렴','역사'],climate:'warm',budget:'low',vibe:'both',mbti:['ISFP','INFP','ESFP','ENFP'],desc:'유럽에서 가성비 좋은 여행지로 아름다운 해안 도시가 매력적이에요.'},
            {name:'캐나다',flag:'🇨🇦',tags:['자연','액티비티','청정','다문화','안전'],climate:'cold',budget:'high',vibe:'nature',mbti:['ISTJ','ISFJ','INTJ','INFJ'],desc:'광활한 자연과 깨끗한 도시를 경험할 수 있어요.'},
            {name:'영국',flag:'🇬🇧',tags:['문화','역사','도시','박물관','펍'],climate:'temperate',budget:'high',vibe:'city',mbti:['INTJ','INTP','ENTJ','ENTP'],desc:'역사와 현대가 공존하는 나라예요.'},
            {name:'독일',flag:'🇩🇪',tags:['문화','역사','맥주','도시','성'],climate:'temperate',budget:'medium',vibe:'city',mbti:['ISTJ','INTJ','ESTJ','ENTJ'],desc:'효율성과 전통이 조화를 이루는 나라예요.'},
            {name:'스위스',flag:'🇨🇭',tags:['자연','산','고급','청정','스키'],climate:'cold',budget:'high',vibe:'nature',mbti:['ISTJ','INTJ','ISFJ','INFJ'],desc:'그림 같은 알프스 풍경을 즐길 수 있어요.'},
            {name:'네덜란드',flag:'🇳🇱',tags:['문화','도시','자전거','예술','자유'],climate:'temperate',budget:'medium',vibe:'city',mbti:['ENTP','ENFP','INTP','INFP'],desc:'자전거와 튤립의 나라로 자유로운 분위기가 특징이에요.'},
            {name:'벨기에',flag:'🇧🇪',tags:['음식','문화','초콜릿','맥주','건축'],climate:'temperate',budget:'medium',vibe:'city',mbti:['ISFJ','ESFJ','INFP','ENFP'],desc:'초콜릿과 맥주의 천국이에요.'},
            {name:'오스트리아',flag:'🇦🇹',tags:['문화','음악','역사','산','고급'],climate:'temperate',budget:'medium',vibe:'city',mbti:['INFJ','INFP','INTJ','INTP'],desc:'클래식 음악과 우아한 건축물이 매력적이에요.'},
            {name:'체코',flag:'🇨🇿',tags:['문화','역사','저렴','맥주','건축'],climate:'temperate',budget:'low',vibe:'city',mbti:['INTP','INFP','ENTP','ENFP'],desc:'동화 같은 프라하의 거리가 아름다워요.'},
            {name:'폴란드',flag:'🇵🇱',tags:['역사','문화','저렴','음식'],climate:'temperate',budget:'low',vibe:'city',mbti:['ISTJ','ISFJ','INTJ','INFJ'],desc:'복잡한 역사를 간직한 나라예요.'},
            {name:'헝가리',flag:'🇭🇺',tags:['문화','온천','저렴','건축','음식'],climate:'temperate',budget:'low',vibe:'city',mbti:['INFP','ISFP','ENFP','ESFP'],desc:'부다페스트의 야경과 온천이 유명해요.'},
            {name:'크로아티아',flag:'🇭🇷',tags:['해변','역사','문화','저렴','섬'],climate:'warm',budget:'medium',vibe:'both',mbti:['ISFP','INFP','ESFP','ENFP'],desc:'아드리아해의 진주로 불리는 아름다운 나라예요.'},
            {name:'터키',flag:'🇹🇷',tags:['문화','역사','음식','저렴','독특'],climate:'temperate',budget:'low',vibe:'both',mbti:['ENTP','ENFP','INTP','INFP'],desc:'동서양이 만나는 독특한 문화를 경험할 수 있어요.'},
            {name:'아이슬란드',flag:'🇮🇸',tags:['자연','오로라','온천','독특'],climate:'cold',budget:'high',vibe:'nature',mbti:['INTJ','INTP','INFJ','INFP'],desc:'신비로운 자연 현상을 볼 수 있어요.'},
            {name:'노르웨이',flag:'🇳🇴',tags:['자연','오로라','피요르드','액티비티'],climate:'cold',budget:'high',vibe:'nature',mbti:['INTJ','INTP','ISTJ','ISTP'],desc:'장엄한 피오르드와 오로라가 유명해요.'},
            {name:'스웨덴',flag:'🇸🇪',tags:['자연','도시','디자인','청정','북유럽'],climate:'cold',budget:'high',vibe:'both',mbti:['INTJ','INTP','INFJ','INFP'],desc:'북유럽의 혁신과 자연을 경험할 수 있어요.'},
            {name:'핀란드',flag:'🇫🇮',tags:['자연','오로라','사우나','청정','독특'],climate:'cold',budget:'high',vibe:'nature',mbti:['INTJ','INTP','ISTJ','ISTP'],desc:'천 개의 호수와 오로라가 아름다워요.'},
            {name:'덴마크',flag:'🇩🇰',tags:['문화','도시','디자인','자전거','행복'],climate:'temperate',budget:'high',vibe:'city',mbti:['INFJ','INFP','INTJ','INTP'],desc:'행복한 나라로 유명해요.'},
            {name:'싱가포르',flag:'🇸🇬',tags:['도시','음식','쇼핑','안전','현대'],climate:'tropical',budget:'high',vibe:'city',mbti:['ISTJ','ESTJ','INTJ','ENTJ'],desc:'미래형 도시 국가예요.'},
            {name:'베트남',flag:'🇻🇳',tags:['음식','저렴','문화','해변','역사'],climate:'tropical',budget:'low',vibe:'both',mbti:['ISFP','ESFP','INFP','ENFP'],desc:'맛있는 음식과 저렴한 물가가 매력적이에요.'},
            {name:'인도네시아',flag:'🇮🇩',tags:['해변','문화','저렴','사원','서핑'],climate:'tropical',budget:'low',vibe:'nature',mbti:['ISFP','ESFP','INFP','ENFP'],desc:'발리를 포함한 아름다운 섬들이 많아요.'},
            {name:'말레이시아',flag:'🇲🇾',tags:['음식','저렴','문화','해변','다문화'],climate:'tropical',budget:'low',vibe:'both',mbti:['ESFP','ISFP','ENFP','INFP'],desc:'다양한 문화가 공존하는 나라예요.'},
            {name:'필리핀',flag:'🇵🇭',tags:['해변','저렴','다이빙','섬','친절'],climate:'tropical',budget:'low',vibe:'nature',mbti:['ESFP','ISFP','ENFP','INFP'],desc:'7천 개 이상의 아름다운 섬이 있어요.'},
            {name:'인도',flag:'🇮🇳',tags:['문화','역사','음식','저렴','영적'],climate:'warm',budget:'low',vibe:'both',mbti:['INFP','ENFP','INTP','ENTP'],desc:'다채로운 색과 문화를 경험할 수 있어요.'},
            {name:'네팔',flag:'🇳🇵',tags:['산','모험','문화','트레킹','영적'],climate:'temperate',budget:'low',vibe:'nature',mbti:['INFP','INTP','ISFP','ISTP'],desc:'히말라야 트레킹의 성지예요.'},
            {name:'중국',flag:'🇨🇳',tags:['역사','문화','음식','도시','다양'],climate:'temperate',budget:'medium',vibe:'both',mbti:['ENTJ','INTJ','ESTJ','ISTJ'],desc:'고대와 현대가 공존하는 거대한 나라예요.'},
            {name:'한국',flag:'🇰🇷',tags:['문화','음식','도시','쇼핑','현대'],climate:'temperate',budget:'medium',vibe:'city',mbti:['ISTJ','ESTJ','ISFJ','ESFJ'],desc:'K-문화의 발상지로 활기찬 도시예요.'},
            {name:'대만',flag:'🇹🇼',tags:['음식','문화','저렴','자연','친절'],climate:'tropical',budget:'low',vibe:'both',mbti:['ISFP','ESFP','INFP','ENFP'],desc:'맛있는 야시장 음식이 유명해요.'},
            {name:'홍콩',flag:'🇭🇰',tags:['도시','음식','쇼핑','현대','문화'],climate:'tropical',budget:'high',vibe:'city',mbti:['ESTJ','ENTJ','ESTP','ENTP'],desc:'동양과 서양이 만나는 역동적인 도시예요.'},
            {name:'몽골',flag:'🇲🇳',tags:['자연','모험','독특','유목','문화'],climate:'cold',budget:'medium',vibe:'nature',mbti:['ISTP','INTP','ESTP','ENTP'],desc:'광활한 초원과 유목 문화를 경험할 수 있어요.'},
            {name:'멕시코',flag:'🇲🇽',tags:['문화','음식','해변','역사','저렴'],climate:'warm',budget:'low',vibe:'both',mbti:['ESFP','ESTP','ENFP','ENTP'],desc:'활기찬 문화와 맛있는 음식이 있어요.'},
            {name:'브라질',flag:'🇧🇷',tags:['문화','해변','축제','자연','활기'],climate:'tropical',budget:'medium',vibe:'both',mbti:['ESFP','ESTP','ENFP','ENTP'],desc:'삼바와 축구의 나라예요.'},
            {name:'아르헨티나',flag:'🇦🇷',tags:['문화','음식','자연','탱고','와인'],climate:'temperate',budget:'low',vibe:'both',mbti:['ESFP','ENFP','ESTP','ENTP'],desc:'열정적인 탱고와 맛있는 스테이크가 유명해요.'},
            {name:'칠레',flag:'🇨🇱',tags:['자연','와인','모험','산','해변'],climate:'temperate',budget:'medium',vibe:'nature',mbti:['ISTP','INTP','ESTP','ENTP'],desc:'길고 다양한 지형의 나라예요.'},
            {name:'페루',flag:'🇵🇪',tags:['역사','모험','문화','산','독특'],climate:'temperate',budget:'low',vibe:'nature',mbti:['ENTP','ENFP','INTP','INFP'],desc:'마추픽추의 신비를 경험할 수 있어요.'},
            {name:'콜롬비아',flag:'🇨🇴',tags:['문화','음식','저렴','커피','활기'],climate:'tropical',budget:'low',vibe:'both',mbti:['ESFP','ENFP','ESTP','ENTP'],desc:'커피와 살사의 나라예요.'},
            {name:'에콰도르',flag:'🇪🇨',tags:['자연','모험','독특','다양','저렴'],climate:'temperate',budget:'low',vibe:'nature',mbti:['INTP','INFP','ENTP','ENFP'],desc:'갈라파고스 제도로 유명해요.'},
            {name:'볼리비아',flag:'🇧🇴',tags:['자연','모험','저렴','독특','산'],climate:'temperate',budget:'low',vibe:'nature',mbti:['ISTP','INTP','ESTP','ENTP'],desc:'우유니 소금사막이 장관이에요.'},
            {name:'우루과이',flag:'🇺🇾',tags:['해변','와인','문화','저렴','휴식'],climate:'temperate',budget:'medium',vibe:'both',mbti:['ISFP','INFP','ESFP','ENFP'],desc:'남미의 숨겨진 보석이에요.'},
            {name:'이집트',flag:'🇪🇬',tags:['역사','문화','모험','사막','독특'],climate:'warm',budget:'low',vibe:'both',mbti:['ENTP','INTP','ENFP','INFP'],desc:'고대 문명의 신비를 경험할 수 있어요.'},
            {name:'모로코',flag:'🇲🇦',tags:['문화','모험','독특','시장','사막'],climate:'warm',budget:'low',vibe:'both',mbti:['ENTP','ENFP','ESTP','ESFP'],desc:'이국적인 분위기가 매력적이에요.'},
            {name:'남아프리카공화국',flag:'🇿🇦',tags:['자연','야생동물','모험','와인'],climate:'warm',budget:'medium',vibe:'nature',mbti:['ISTP','ESTP','ISFP','ESFP'],desc:'사파리와 와인의 나라예요.'},
            {name:'케냐',flag:'🇰🇪',tags:['자연','야생동물','사파리','모험'],climate:'warm',budget:'medium',vibe:'nature',mbti:['ISTP','ESTP','ISFP','ESFP'],desc:'아프리카 사파리의 정수예요.'},
            {name:'탄자니아',flag:'🇹🇿',tags:['자연','야생동물','산','사파리','모험'],climate:'warm',budget:'medium',vibe:'nature',mbti:['ISTP','ESTP','INTP','ENTP'],desc:'킬리만자로와 세렝게티가 유명해요.'},
            {name:'보츠와나',flag:'🇧🇼',tags:['자연','야생동물','사파리','고급','모험'],climate:'warm',budget:'high',vibe:'nature',mbti:['ISTP','ESTP','INTJ','ENTJ'],desc:'프리미엄 사파리의 성지예요.'},
            {name:'나미비아',flag:'🇳🇦',tags:['자연','사막','야생동물','모험','독특'],climate:'warm',budget:'medium',vibe:'nature',mbti:['ISTP','INTP','ESTP','ENTP'],desc:'아프리카의 광활한 풍경이 장관이에요.'},
            {name:'마다가스카르',flag:'🇲🇬',tags:['자연','야생동물','독특','해변','모험'],climate:'tropical',budget:'medium',vibe:'nature',mbti:['INTP','INFP','ISTP','ISFP'],desc:'독특한 동식물을 만날 수 있어요.'},
            {name:'세이셸',flag:'🇸🇨',tags:['해변','고급','허니문','자연','휴식'],climate:'tropical',budget:'high',vibe:'nature',mbti:['INFP','ISFP','ENFP','ESFP'],desc:'숨겨진 열대 천국이에요.'},
            {name:'모리셔스',flag:'🇲🇺',tags:['해변','고급','허니문','다이빙','휴식'],climate:'tropical',budget:'high',vibe:'nature',mbti:['ISFJ','INFJ','ESFJ','ENFJ'],desc:'인도양의 낙원이에요.'},
            {name:'몰디브',flag:'🇲🇻',tags:['해변','고급','허니문','다이빙','휴식'],climate:'tropical',budget:'high',vibe:'nature',mbti:['ISFJ','INFJ','ISFP','INFP'],desc:'천국 같은 리조트 섬이에요.'},
            {name:'두바이',flag:'🇦🇪',tags:['도시','고급','쇼핑','현대','독특'],climate:'warm',budget:'high',vibe:'city',mbti:['ENTJ','ESTJ','ESTP','ESFP'],desc:'미래형 메가시티예요.'},
            {name:'요르단',flag:'🇯🇴',tags:['역사','모험','문화','사막','독특'],climate:'warm',budget:'medium',vibe:'both',mbti:['ENTP','INTP','ENFP','INFP'],desc:'페트라와 사해의 나라예요.'},
            {name:'이스라엘',flag:'🇮🇱',tags:['역사','문화','종교','해변','도시'],climate:'warm',budget:'high',vibe:'both',mbti:['INTJ','INTP','ENTJ','ENTP'],desc:'세 종교의 성지예요.'},
            {name:'오만',flag:'🇴🇲',tags:['문화','사막','해변','독특'],climate:'warm',budget:'medium',vibe:'both',mbti:['ISTP','INTP','ESTP','ENTP'],desc:'아라비아의 숨은 보석이에요.'},
            {name:'카타르',flag:'🇶🇦',tags:['도시','고급','문화','현대','쇼핑'],climate:'warm',budget:'high',vibe:'city',mbti:['ENTJ','ESTJ','INTJ','ISTJ'],desc:'미래형 사막 도시예요.'},
            {name:'러시아',flag:'🇷🇺',tags:['역사','문화','건축','독특','거대'],climate:'cold',budget:'medium',vibe:'city',mbti:['INTJ','INTP','ENTJ','ENTP'],desc:'광활한 대륙을 경험할 수 있어요.'},
            {name:'우크라이나',flag:'🇺🇦',tags:['역사','문화','저렴','음식'],climate:'temperate',budget:'low',vibe:'city',mbti:['INFP','ISFP','ENFP','ESFP'],desc:'숨겨진 동유럽의 보석이에요.'},
            {name:'조지아',flag:'🇬🇪',tags:['문화','음식','와인','산','저렴'],climate:'temperate',budget:'low',vibe:'both',mbti:['ENFP','ESFP','INFP','ISFP'],desc:'와인의 발상지예요.'},
            {name:'아르메니아',flag:'🇦🇲',tags:['역사','문화','산','저렴','독특'],climate:'temperate',budget:'low',vibe:'both',mbti:['INTP','INFP','ENTP','ENFP'],desc:'세계 최초의 기독교 국가예요.'},
            {name:'아제르바이잔',flag:'🇦🇿',tags:['문화','도시','독특','역사'],climate:'temperate',budget:'medium',vibe:'city',mbti:['ENTP','ENTJ','INTP','INTJ'],desc:'불의 땅으로 독특한 문화가 있어요.'},
            {name:'카자흐스탄',flag:'🇰🇿',tags:['자연','문화','모험','독특','산'],climate:'temperate',budget:'low',vibe:'both',mbti:['ISTP','INTP','ESTP','ENTP'],desc:'중앙아시아의 거대한 나라예요.'},
            {name:'우즈베키스탄',flag:'🇺🇿',tags:['역사','문화','건축','저렴','독특'],climate:'temperate',budget:'low',vibe:'city',mbti:['INTP','INFP','ENTP','ENFP'],desc:'실크로드의 진주예요.'},
            {name:'키르기스스탄',flag:'🇰🇬',tags:['자연','산','모험','저렴','유목'],climate:'cold',budget:'low',vibe:'nature',mbti:['ISTP','ISFP','ESTP','ESFP'],desc:'중앙아시아의 스위스예요.'},
            {name:'파키스탄',flag:'🇵🇰',tags:['산','모험','문화','저렴','독특'],climate:'temperate',budget:'low',vibe:'both',mbti:['ISTP','INTP','ESTP','ENTP'],desc:'카라코람의 장엄함을 볼 수 있어요.'},
            {name:'스리랑카',flag:'🇱🇰',tags:['문화','해변','차','야생동물','저렴'],climate:'tropical',budget:'low',vibe:'both',mbti:['INFP','ISFP','ENFP','ESFP'],desc:'인도양의 진주예요.'},
            {name:'미얀마',flag:'🇲🇲',tags:['문화','사원','저렴','독특'],climate:'tropical',budget:'low',vibe:'both',mbti:['INFP','ISFP','INTP','ISTP'],desc:'황금 불탑의 나라예요.'},
            {name:'라오스',flag:'🇱🇦',tags:['문화','저렴','자연','사원','휴식'],climate:'tropical',budget:'low',vibe:'both',mbti:['INFP','ISFP','INTP','ISTP'],desc:'동남아시아의 숨은 보석이에요.'},
            {name:'캄보디아',flag:'🇰🇭',tags:['역사','문화','저렴','사원'],climate:'tropical',budget:'low',vibe:'both',mbti:['INFP','ENFP','INTP','ENTP'],desc:'앙코르 와트의 나라예요.'},
            {name:'부탄',flag:'🇧🇹',tags:['문화','산','영적','독특','고급'],climate:'temperate',budget:'high',vibe:'nature',mbti:['INFJ','INFP','INTJ','INTP'],desc:'행복의 나라예요.'},
            {name:'아일랜드',flag:'🇮🇪',tags:['자연','문화','펍','역사','친절'],climate:'temperate',budget:'medium',vibe:'nature',mbti:['ENFP','INFP','ESFP','ISFP'],desc:'에메랄드빛 섬이에요.'},
            {name:'루마니아',flag:'🇷🇴',tags:['역사','문화','저렴','독특','성'],climate:'temperate',budget:'low',vibe:'both',mbti:['INTP','INFP','ENTP','ENFP'],desc:'드라큘라의 나라예요.'},
            {name:'불가리아',flag:'🇧🇬',tags:['해변','산','저렴','역사','스키'],climate:'temperate',budget:'low',vibe:'both',mbti:['ISTP','ISFP','ESTP','ESFP'],desc:'동유럽의 가성비 천국이에요.'},
            {name:'세르비아',flag:'🇷🇸',tags:['문화','나이트라이프','저렴','음식','역사'],climate:'temperate',budget:'low',vibe:'city',mbti:['ESFP','ESTP','ENFP','ENTP'],desc:'발칸 반도의 심장이에요.'},
            {name:'슬로베니아',flag:'🇸🇮',tags:['자연','호수','저렴','청정','액티비티'],climate:'temperate',budget:'low',vibe:'nature',mbti:['ISFP','INFP','ISTP','INTP'],desc:'알프스와 지중해가 만나는 곳이에요.'},
            {name:'몬테네그로',flag:'🇲🇪',tags:['해변','자연','저렴','액티비티'],climate:'warm',budget:'low',vibe:'both',mbti:['ISFP','ESFP','ISTP','ESTP'],desc:'아드리아해의 숨은 보석이에요.'},
            {name:'알바니아',flag:'🇦🇱',tags:['해변','저렴','역사','독특','자연'],climate:'warm',budget:'low',vibe:'both',mbti:['ISTP','ESTP','ISFP','ESFP'],desc:'유럽의 마지막 비밀이에요.'},
            {name:'몰타',flag:'🇲🇹',tags:['역사','해변','문화','섬'],climate:'warm',budget:'medium',vibe:'both',mbti:['ENFP','ESFP','INFP','ISFP'],desc:'지중해의 작은 보석이에요.'},
            {name:'키프로스',flag:'🇨🇾',tags:['해변','역사','문화','와인'],climate:'warm',budget:'medium',vibe:'both',mbti:['ESFP','ENFP','ISFP','INFP'],desc:'아프로디테의 섬이에요.'},
            {name:'에스토니아',flag:'🇪🇪',tags:['문화','도시','역사','저렴','디지털'],climate:'cold',budget:'low',vibe:'city',mbti:['INTP','INTJ','ENTP','ENTJ'],desc:'디지털 강국의 중세 도시예요.'},
            {name:'라트비아',flag:'🇱🇻',tags:['문화','건축','저렴','역사','자연'],climate:'cold',budget:'low',vibe:'both',mbti:['INFP','ISFP','INTP','ISTP'],desc:'발트해의 아르누보예요.'},
            {name:'리투아니아',flag:'🇱🇹',tags:['역사','문화','저렴','건축'],climate:'temperate',budget:'low',vibe:'city',mbti:['ISTJ','ISFJ','INTJ','INFJ'],desc:'발트 3국의 보석이에요.'},
            {name:'뉴칼레도니아',flag:'🇳🇨',tags:['해변','고급','다이빙','자연','프랑스령'],climate:'tropical',budget:'high',vibe:'nature',mbti:['ISFP','INFP','ESFP','ENFP'],desc:'남태평양의 천국이에요.'},
            {name:'피지',flag:'🇫🇯',tags:['해변','다이빙','휴식','친절','섬'],climate:'tropical',budget:'medium',vibe:'nature',mbti:['ESFP','ENFP','ISFP','INFP'],desc:'남태평양의 낙원이에요.'},
            {name:'타히티',flag:'🇵🇫',tags:['해변','고급','허니문','다이빙','휴식'],climate:'tropical',budget:'high',vibe:'nature',mbti:['ISFJ','INFJ','ISFP','INFP'],desc:'프랑스령 폴리네시아의 보석이에요.'},
            {name:'르완다',flag:'🇷🇼',tags:['자연','야생동물','고릴라','안전'],climate:'temperate',budget:'high',vibe:'nature',mbti:['INFJ','INTJ','ISFJ','ISTJ'],desc:'아프리카의 싱가포르예요.'},
            {name:'에티오피아',flag:'🇪🇹',tags:['역사','문화','독특','커피','모험'],climate:'temperate',budget:'low',vibe:'both',mbti:['INTP','INFP','ENTP','ENFP'],desc:'인류의 발상지예요.'},
            {name:'방글라데시',flag:'🇧🇩',tags:['문화','저렴','독특','역사'],climate:'tropical',budget:'low',vibe:'both',mbti:['INFP','ISFP','ENFP','ESFP'],desc:'천 개의 강의 나라예요.'}
        ];

        const questions = [
            {
                id: 1,
                question: "당신의 MBTI는?",
                options: [
                    { text: "ISTJ - 세상의 소금형", value: "ISTJ" },
                    { text: "ISFJ - 용감한 수호자형", value: "ISFJ" },
                    { text: "INFJ - 선의의 옹호자형", value: "INFJ" },
                    { text: "INTJ - 용의주도한 전략가형", value: "INTJ" },
                    { text: "ISTP - 만능 재주꾼형", value: "ISTP" },
                    { text: "ISFP - 호기심 많은 예술가형", value: "ISFP" },
                    { text: "INFP - 열정적인 중재자형", value: "INFP" },
                    { text: "INTP - 논리적인 사색가형", value: "INTP" },
                    { text: "ESTP - 모험을 즐기는 사업가형", value: "ESTP" },
                    { text: "ESFP - 자유로운 영혼의 연예인형", value: "ESFP" },
                    { text: "ENFP - 재기발랄한 활동가형", value: "ENFP" },
                    { text: "ENTP - 뜨거운 논쟁을 즐기는 변론가형", value: "ENTP" },
                    { text: "ESTJ - 엄격한 관리자형", value: "ESTJ" },
                    { text: "ESFJ - 사교적인 외교관형", value: "ESFJ" },
                    { text: "ENFJ - 정의로운 사회운동가형", value: "ENFJ" },
                    { text: "ENTJ - 대담한 통솔자형", value: "ENTJ" },
                    { text: "🤷 MBTI를 모르겠어요", value: "UNKNOWN" }
                ]
            },
            {
                id: 2,
                question: "선호하는 여행 스타일은?",
                options: [
                    { text: "🏔️ 모험과 액티비티", value: "adventure" },
                    { text: "🏖️ 여유로운 휴식", value: "relaxation" },
                    { text: "🏛️ 문화와 역사 탐방", value: "culture" },
                    { text: "🍜 미식 여행", value: "food" },
                    { text: "🎉 활기찬 나이트라이프", value: "nightlife" }
                ]
            },
            {
                id: 3,
                question: "선호하는 기후는?",
                options: [
                    { text: "☀️ 따뜻하고 화창한 날씨", value: "warm" },
                    { text: "🌡️ 온화한 봄/가을 날씨", value: "temperate" },
                    { text: "🌴 덥고 습한 열대 기후", value: "tropical" },
                    { text: "❄️ 서늘하고 시원한 날씨", value: "cold" },
                    { text: "🤷 날씨는 중요하지 않아요", value: "any" }
                ]
            },
            {
                id: 4,
                question: "여행 시 가장 관심있는 활동은?",
                options: [
                    { text: "🏛️ 역사 유적지와 박물관", value: "history" },
                    { text: "🌿 자연 경관과 야생동물", value: "nature" },
                    { text: "🛍️ 쇼핑과 현지 시장", value: "shopping" },
                    { text: "📸 인스타그램 사진 촬영", value: "photo" },
                    { text: "🤝 현지인 교류", value: "local" }
                ]
            },
            {
                id: 5,
                question: "누구와 함께 여행하나요?",
                options: [
                    { text: "🧍 혼자 자유롭게", value: "solo" },
                    { text: "💑 연인과 로맨틱하게", value: "couple" },
                    { text: "👨‍👩‍👧‍👦 가족과 함께", value: "family" },
                    { text: "👥 친구들과 활기차게", value: "friends" }
                ]
            },
            {
                id: 6,
                question: "여행 예산은?",
                options: [
                    { text: "💰 저렴하게", value: "low" },
                    { text: "💵 적당하게", value: "medium" },
                    { text: "💎 여유롭게", value: "high" }
                ]
            },
            {
                id: 7,
                question: "선호하는 여행지 분위기는?",
                options: [
                    { text: "🏙️ 활기찬 대도시", value: "city" },
                    { text: "🏞️ 한적한 자연", value: "nature" },
                    { text: "⚖️ 도시와 자연 모두", value: "both" }
                ]
            },
            {
                id: 8,
                question: "새로운 경험에 대한 태도는?",
                options: [
                    { text: "🚀 완전히 새롭고 독특한 것", value: "extreme" },
                    { text: "🌟 새로운 시도를 좋아함", value: "adventurous" },
                    { text: "⚖️ 적당한 수준", value: "moderate" },
                    { text: "🛡️ 익숙하고 안전한 것", value: "safe" }
                ]
            },
            {
                id: 9,
                question: "선호하는 여행 기간은?",
                options: [
                    { text: "⚡ 3일 이내", value: "short" },
                    { text: "📅 4-7일", value: "week" },
                    { text: "🗓️ 1-2주", value: "twoweeks" },
                    { text: "🌍 2주 이상", value: "long" }
                ]
            },
            {
                id: 10,
                question: "여행에서 가장 중요한 것은?",
                options: [
                    { text: "✅ 안전하고 편안한 환경", value: "safety" },
                    { text: "💰 가성비", value: "value" },
                    { text: "📷 인생샷과 추억", value: "memory" },
                    { text: "🎭 독특하고 특별한 경험", value: "unique" },
                    { text: "😌 진정한 휴식", value: "rest" }
                ]
            }
        ];

        let currentQuestion = 0;
        let answers = {};

        function startQuiz() {
            document.getElementById('startScreen').style.display = 'none';
            document.getElementById('quizScreen').style.display = 'block';
            renderQuestions();
            showQuestion(0);
        }

        function renderQuestions() {
            const container = document.getElementById('questionsContainer');
            container.innerHTML = '';
            
            questions.forEach((q, index) => {
                const div = document.createElement('div');
                div.className = 'question-container';
                div.id = `question-${index}`;
                
                let opts = '';
                q.options.forEach(opt => {
                    opts += `<div class="option" onclick="selectOption(${index}, '${opt.value}', this)">${opt.text}</div>`;
                });
                
                div.innerHTML = `<div class="question">${q.question}</div><div class="options">${opts}</div>`;
                container.appendChild(div);
            });
        }

        function showQuestion(index) {
            document.querySelectorAll('.question-container').forEach(q => q.classList.remove('active'));
            document.getElementById(`question-${index}`).classList.add('active');
            
            const progress = ((index + 1) / questions.length) * 100;
            document.getElementById('progressFill').style.width = progress + '%';
            
            document.getElementById('prevBtn').style.display = index > 0 ? 'block' : 'none';
            document.getElementById('nextBtn').disabled = !answers[index];
            document.getElementById('nextBtn').textContent = index === questions.length - 1 ? '결과 보기' : '다음';
        }

        function selectOption(questionIndex, value, element) {
            element.parentElement.querySelectorAll('.option').forEach(opt => opt.classList.remove('selected'));
            element.classList.add('selected');
            answers[questionIndex] = value;
            document.getElementById('nextBtn').disabled = false;
            document.getElementById('nextBtn').textContent = questionIndex === questions.length - 1 ? '결과 보기' : '다음';
        }

        function nextQuestion() {
            if (currentQuestion < questions.length - 1) {
                currentQuestion++;
                showQuestion(currentQuestion);
            } else {
                showResults();
            }
        }

        function prevQuestion() {
            if (currentQuestion > 0) {
                currentQuestion--;
                showQuestion(currentQuestion);
            }
        }

        function calculateResults() {
            const userMBTI = answers[0];
            const scores = {};
            
            destinations.forEach(dest => {
                let score = 0;
                
                if (userMBTI === 'UNKNOWN') {
                    score += 15;
                } else if (dest.mbti && dest.mbti.includes(userMBTI)) {
                    score += 30;
                }
                
                if (answers[1]) {
                    const style = answers[1];
                    if (style === 'adventure' && dest.tags.includes('액티비티')) score += 15;
                    if (style === 'relaxation' && dest.tags.includes('해변')) score += 15;
                    if (style === 'culture' && dest.tags.includes('문화')) score += 15;
                    if (style === 'food' && dest.tags.includes('음식')) score += 15;
                    if (style === 'nightlife' && dest.tags.includes('나이트라이프')) score += 15;
                }
                
                if (answers[2] && answers[2] !== 'any') {
                    if (dest.climate === answers[2]) score += 20;
                }
                
                if (answers[3]) {
                    const activity = answers[3];
                    if (activity === 'history' && dest.tags.includes('역사')) score += 10;
                    if (activity === 'nature' && dest.tags.includes('자연')) score += 10;
                    if (activity === 'shopping' && dest.tags.includes('쇼핑')) score += 10;
                    if (activity === 'photo' && (dest.tags.includes('해변') || dest.tags.includes('자연'))) score += 10;
                    if (activity === 'local' && dest.tags.includes('문화')) score += 10;
                }
                
                if (answers[5]) {
                    if (dest.budget === answers[5]) score += 15;
                }
                
                if (answers[6]) {
                    if (dest.vibe === answers[6] || dest.vibe === 'both') score += 10;
                }
                
                if (answers[7]) {
                    if (answers[7] === 'extreme' && dest.tags.includes('독특')) score += 10;
                    if (answers[7] === 'safe' && dest.tags.includes('안전')) score += 10;
                }
                
                if (answers[9]) {
                    if (answers[9] === 'safety' && dest.tags.includes('안전')) score += 10;
                    if (answers[9] === 'value' && dest.tags.includes('저렴')) score += 10;
                    if (answers[9] === 'unique' && dest.tags.includes('독특')) score += 10;
                }
                
                scores[dest.name] = score;
            });
            
            return Object.entries(scores)
                .sort((a, b) => b[1] - a[1])
                .slice(0, 3)
                .map(([name, score]) => ({
                    ...destinations.find(d => d.name === name),
                    score: score
                }));
        }

        function showResults() {
            document.getElementById('quizScreen').style.display = 'none';
            document.getElementById('resultScreen').style.display = 'block';
            
            const results = calculateResults();
            let html = '';
            
            results.forEach((dest, index) => {
                const matchPercentage = Math.round((dest.score / 100) * 100);
                html += `
                    <div class="destination">
                        <h3>
                            <div class="title-section">
                                <span class="flag">${dest.flag}</span>
                                <span class="country-name">${index + 1}. ${dest.name}</span>
                            </div>
                            <span class="match-score">매칭도 ${matchPercentage}%</span>
                        </h3>
                        <p>${dest.desc}</p>
                        <div class="tags">
                            ${dest.tags.map(tag => `<span class="tag">${tag}</span>`).join('')}
                        </div>
                        <button class="select-btn" onclick="selectDestination('${dest.name}', '${dest.flag}', \`${dest.desc}\`, '${dest.tags.join(',')}')">
                            이 여행지로 선택하기
                        </button>
                    </div>
                `;
            });
            
            document.getElementById('resultContent').innerHTML = html;
        }

        function selectDestination(name, flag, desc, tags) {
            document.getElementById('resultScreen').style.display = 'none';
            document.getElementById('finalChoice').classList.add('active');
            
            const tagsArray = tags.split(',');
            const coords = countryCoords[name] || [0, 0, 2];
            const lms = landmarks[name] || [];
            
            let landmarksHTML = '';
            if (lms.length > 0) {
                landmarksHTML = `
                    <div class="landmark-container">
                        <h3>🏛️ 대표 랜드마크</h3>
                        <div class="landmark-list">
                            ${lms.map(lm => `
                                <div class="landmark-item" onclick="searchLandmark('${lm.n}', '${name}')">
                                    <div class="landmark-icon">${lm.i}</div>
                                    <div class="landmark-info">
                                        <div class="landmark-name">${lm.n}</div>
                                        <div class="landmark-desc">${lm.d}</div>
                                        <div class="landmark-search-hint">🔍 클릭하여 이미지 검색</div>
                                    </div>
                                </div>
                            `).join('')}
                        </div>
                    </div>
                `;
            }
            
            document.getElementById('finalContent').innerHTML = `
                <div class="final-card">
                    <div class="flag">${flag}</div>
                    <h2>${name}</h2>
                    <div class="congrats">당신의 최종 선택입니다!</div>
                </div>
                <div class="final-details">
                    <h3>🌟 여행지 정보</h3>
                    <p>${desc}</p>
                    <h3>✨ 주요 특징</h3>
                    <div class="tags">
                        ${tagsArray.map(tag => `<span class="tag">${tag}</span>`).join('')}
                    </div>
                </div>
                <div class="map-container">
                    <h3>🗺️ 위치 확인</h3>
                    <iframe class="map-frame" src="https://maps.google.com/maps?q=${coords[0]},${coords[1]}&z=${coords[2]}&output=embed" loading="lazy"></iframe>
                </div>
                ${landmarksHTML}
            `;
        }

        function searchLandmark(landmarkName, countryName) {
            const searchQuery = encodeURIComponent(`${landmarkName} ${countryName}`);
            window.open(`https://www.google.com/search?q=${searchQuery}&tbm=isch`, '_blank');
        }

        function restart() {
            currentQuestion = 0;
            answers = {};
            document.getElementById('resultScreen').style.display = 'none';
            document.getElementById('finalChoice').classList.remove('active');
            document.getElementById('startScreen').style.display = 'block';
            document.getElementById('progressFill').style.width = '0%';
        }
    </script>
</body>
</html>
